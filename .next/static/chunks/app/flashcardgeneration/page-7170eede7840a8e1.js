(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[96],{9124:function(e,a,r){Promise.resolve().then(r.bind(r,9175))},5344:function(e,a,r){"use strict";r.d(a,{db:function(){return l}});var t=r(5236),s=r(9842);let n=(0,t.ZF)({apiKey:"AIzaSyDxZ6klqW7G8kjKG4yNYNy0WeEDQgKLuH0",authDomain:"flascard-saas.firebaseapp.com",projectId:"flascard-saas",storageBucket:"flascard-saas.appspot.com",messagingSenderId:"123450728329",appId:"1:123450728329:web:aa2c2c8ffc6ef5c7568b58",measurementId:"G-KHSF4V3R2X"}),l=(0,s.ad)(n)},9175:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return v}});var t=r(7437),s=r(2265),n=r(3073),l=r(2197),c=r(7999),i=r(3719),o=r(9601),d=r(5519),h=r(8433),u=r(270),f=r(4696),m=r(1096),x=r(824),j=r(385),Z=r(3269),g=r(8784),p=r(9842),y=r(5344);function v(){let{user:e}=(0,n.aC)(),[a,r]=(0,s.useState)(""),[v,S]=(0,s.useState)([]),[k,b]=(0,s.useState)(""),[C,F]=(0,s.useState)(!1),w=async()=>{if(!a.trim()){alert("Please enter some text to generate flashcards.");return}try{let e=await fetch("/api/flashcardBack",{method:"POST",body:a});if(!e.ok)throw Error("Failed to generate flashcards");let r=await e.json();S(r)}catch(e){console.error("Error generating flashcards:",e),alert("An error occurred while generating flashcards. Please try again.")}},P=()=>F(!1),E=async()=>{if(!k.trim()){alert("Please enter a name for your flashcard set.");return}if(!e){console.error("User is not authenticated."),alert("User is not authenticated.");return}console.log("User:",e);try{let a=(0,p.JU)((0,p.hJ)(y.db,"users"),e.id),r=await (0,p.QT)(a),t=(0,p.qs)(y.db);if(r.exists()){let e=[...r.data().flashcardSets||[],{name:k}];t.update(a,{flashcardSets:e})}else t.set(a,{flashcardSets:[{name:k}]});let s=(0,p.JU)((0,p.hJ)(a,"flashcardSets"),k);t.set(s,{flashcards:v}),await t.commit(),alert("Flashcards saved successfully!"),P(),b(""),S([])}catch(e){console.error("Error saving flashcards:",e),alert("An error occurred while saving flashcards. Please try again.")}};return(0,t.jsxs)(l.Z,{maxWidth:"md",children:[(0,t.jsxs)(c.Z,{sx:{my:4},children:[(0,t.jsx)(i.Z,{variant:"h4",component:"h1",gutterBottom:!0,children:"Generate Flashcards"}),(0,t.jsx)(o.Z,{value:a,onChange:e=>r(e.target.value),label:"Enter text",fullWidth:!0,multiline:!0,rows:4,variant:"outlined",sx:{mb:2}}),(0,t.jsx)(d.Z,{variant:"contained",color:"primary",onClick:w,fullWidth:!0,children:"Generate Flashcards"})]}),v.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.Z,{sx:{mt:4},children:[(0,t.jsx)(i.Z,{variant:"h5",component:"h2",gutterBottom:!0,children:"Generated Flashcards"}),(0,t.jsx)(h.ZP,{container:!0,spacing:2,children:v.map((e,a)=>(0,t.jsx)(h.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,t.jsx)(u.Z,{children:(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(i.Z,{variant:"h6",children:"Front:"}),(0,t.jsx)(i.Z,{children:e.front}),(0,t.jsx)(i.Z,{variant:"h6",sx:{mt:2},children:"Back:"}),(0,t.jsx)(i.Z,{children:e.back})]})})},a))})]}),(0,t.jsx)(c.Z,{sx:{mt:4,display:"flex",justifyContent:"center"},children:(0,t.jsx)(d.Z,{variant:"contained",color:"primary",onClick:()=>F(!0),children:"Save Flashcards"})})]}),(0,t.jsxs)(m.Z,{open:C,onClose:P,children:[(0,t.jsx)(x.Z,{children:"Save Flashcard Set"}),(0,t.jsxs)(j.Z,{children:[(0,t.jsx)(Z.Z,{children:"Please enter a name for your flashcard set."}),(0,t.jsx)(o.Z,{autoFocus:!0,margin:"dense",label:"Set Name",type:"text",fullWidth:!0,value:k,onChange:e=>b(e.target.value)})]}),(0,t.jsxs)(g.Z,{children:[(0,t.jsx)(d.Z,{onClick:P,children:"Cancel"}),(0,t.jsx)(d.Z,{onClick:E,color:"primary",children:"Save"})]})]})]})}}},function(e){e.O(0,[358,73,944,433,189,76,971,23,744],function(){return e(e.s=9124)}),_N_E=e.O()}]);